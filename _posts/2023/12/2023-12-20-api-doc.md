---
title: How to design a REST API and document it using Swagger?
category: Technical Writing
image: "/assets/api.png"
header-img: "/assets/api.png"
keywords: [how to design a REST API, how to create a REST API, how to make a REST API, API coding, design REST APIs, REST principles, application design process, resources, RESTful API, Node.js, Postman, documentation, swagger, interactive documentation, Visual Studio Code, Postman testing, Swagger definition, Swagger documentation, API basics, API testing, Postman request, API creation, programming tutorial, coding tutorial, API documentation, tech writing, coding experience, developer skills, web development, software engineering, JSON parsing, code structure, software documentation, programming journey]
permalink: /how-to-design-a-rest-api-and-document-it/
description: Dive into the magical world of APIs this holiday season! This festive coding adventure will guide you through designing and building stunning RESTful APIs with Node.js and Postman. I'll unravel the secrets of REST principles and resource crafting, then polish your documentation skills with Swagger for interactive experiences. No dry theory here â€“ you'll learn by doing through code examples, Postman testing, and practical tips for Visual Studio Code. Whether you're a seasoned developer or a curious beginner, this blog is your passport to mastering API basics, testing intricacies, and crafting code with confidence. So grab your virtual Santa hat and coding gloves â€“ it's time to embark on a journey of tech wizardry and creative expression! (Don't miss the sneak peek of my in-development API documentation course!)
---

Hey tech writers, in this year-end blog, we're immersing ourselves in the intricacies of designing, creating, and documenting REST APIs using Node.js, Express, and Swagger. This hands-on experience goes beyond theoretical jargon, offering a festive extravaganza of learning just in time for the holidaysâ€”a special gift from me to you!

Why settle for just reading when you can actively participate? Together, let's delve into the domain of API coding, exploring how to design REST APIs while adhering to REST principles. We'll navigate the application design process, manage resources effectively, and bring a touch of holiday cheer to our coding endeavors. Equipped with your virtual Santa hat and coding gloves, follow along by copying and pasting the provided code snippets, turning this blog into a catalyst for your own festive tech magic.

{% include note.html content="Hungry for more? My in-development <b><i>[API documentation](https://beingtechnicalwriter.com/apidocumentation)</i></b> course is growing every week! Dive in now and learn alongside me as I add new chapters and code-filled goodness." %}


> The best developer is someone who knows how to find the code, not the one who has memorized everything. And the best tech writer is someone who knows how to use and document what the developer has found, rather than recite dry facts.


Let the coding celebration begin! ðŸŽ…ðŸŽ„

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7149683584202371"
     crossorigin="anonymous"></script>
<!-- AddTitleOne -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-7149683584202371"
     data-ad-slot="7422872052"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>

## Prerequisites - The Enchanted Preparations
As we begin our magical journey, picture yourself adorned in wizarding robes, standing before the majestic gates of Hogwarts â€“ our code school. But before we can cast spells, we must complete our magical prerequisites.

Regardless of your operating system, open your terminal and:

* Install [Node.js](https://nodejs.org/en).
* Install [Postman](https://www.postman.com/).


## Procedures - The Code Incantations

1. Create a directory for your project. Let's name it `rest_api`. In your terminal, run `mkdir rest_api`.
2. Navigate to the directory you just created using `cd rest_api`.
3. Initialize your project by running `npm init`. For simplicity, press Enter until you're back to the path.
4. Optional: I'm not sure how comfortable you are with the Terminal. If you're comfortable with the terminal, run the suggested commands there. If not, feel free to open your project in Visual Studio Code. I'm continuing with the Terminal for now.
5. Create an empty JavaScript file named `index.js`. If you are working on the Terminal run, `echo index.js`. 
6. Install Express by running `npm install express`.
7. Open the `index.js` file. If you are on terminal enter `vim index.js` and if you are on Visual Studio code, simply open it and paste the following code:

     ```js
     const express = require('express');
     const app = express();
     const port = 3000;

     app.listen(port, () => {
     console.log(`Server is running on http://localhost:${port}`);
     });
     ```

     {% include note.html content="Using `app.use(express.json())`, we tell Express to parse incoming JSON requests and make the data available in `req.body`." %}

     <details>
     <summary><strong>Expand for for code explanation</strong></summary>

     <strong>Import Express.js:</strong> The code starts by importing the Express.js framework using `const express = require('express');`.

     <br>

     <strong>Create Express App Instance:</strong> The line `const app = express();` creates an instance of the Express application. This `app` variable will be used to configure the server and define routes.

     <br>

     <strong>Set Port Number:</strong> The code sets a port number for the server to listen on with `const port = 3000;`. The server will be accessible through http://localhost:3000/.

     <br>

     <strong>Start the Server:</strong> The line `app.listen(port, () => {...});` starts the server to listen for incoming requests on the specified port. The arrow function `() => {...}` is a callback that logs a message to the console once the server is successfully started.

     <br>

     <strong>Server Running Message:</strong> The server will keep running until manually stopped or in case of an error. The console log inside the callback provides a message indicating that the server is running and on which URL.

     </details>
     <br>

8. (Optional) If you're using Vim, save and close the file by typing `:wq`.
9. Launch your terminal and run `node index.js`. If everything works as expected, you'll see a message confirming the server is running on http://localhost:3000. Copy this address and paste it into your web browser.
10. What is the result? Encounter a "Cannot GET /"? Excellent!

### Creating an Enhanced POST Endpoint

11. Let's elevate our code by creating an enhanced POST Endpoint.

     ```js
     const express = require('express');
     const app = express();
     const port = 3000;

     // Define the users array
     const users = [];

     // Middleware to parse JSON body
     app.use(express.json());

     // GET endpoint to retrieve users
     app.get('/users', (req, res) => {
     // Logic to retrieve and send users
     res.json(users);
     });

     // POST endpoint to add a new user
     app.post('/users', (req, res) => {
     const { name, email } = req.body;

     if (!name || !email) {
     return res.status(400).send('Name and email are required');
     }

     // Logic to add the user to the array
     const newUser = {
     id: users.length + 1,
     name,
     email,
     };

     users.push(newUser);

     res.status(201).json(newUser);
     });

     // Start the server
     app.listen(port, () => {
     console.log(`Server is running on http://localhost:${port}`);
     });

     ```

     <details>
     <summary><strong>Expand for code explanation</strong></summary>

     <strong>Import Express.js:</strong>
     The code starts by importing the Express.js framework using `const express = require('express');`.

     <br>

     <strong>Create Express App Instance:</strong>
     An instance of the Express application is created with `const app = express();`. This `app` variable will be used to configure the server and define routes.

     <br>

     <strong>Set Port Number:</strong>
     The code sets a port number for the server to listen on with `const port = 3000;`. The server will be accessible through http://localhost:3000/.

     <br>

     <strong>Define the Users Array:</strong>
     An array named `users` is defined to store user data.

     <br>

     <strong>Middleware to Parse JSON Body:</strong>
     The line `app.use(express.json());` sets up middleware to parse incoming JSON data in the request body.

     <br>

     <strong>GET Endpoint to Retrieve Users:</strong>
     An endpoint at `/users` is defined for handling HTTP GET requests. It retrieves and sends the `users` array as JSON.

     <br>

     <strong>POST Endpoint to Add a New User:</strong>
     An endpoint at `/users` is defined for handling HTTP POST requests. It expects a JSON payload with `name` and `email`. If the data is valid, a new user is created and added to the `users` array.

     <br>

     <strong>Start the Server:</strong>
     The server is started with `app.listen(port, () => {...});`. A log message indicates that the server is running and on which URL.

     </details>


### Test the POST Endpoint

Now, let's test our API using Postman.

12. Open Postman, navigate to Collections > REST API basics: CRUD, test, & variable > Post data.

     <img src="/assets/postmanone.png" alt="Postman Navigation" style="max-width: 100%;" height="auto">

13. Send a POST request to http://localhost:3000/users with a JSON body containing "name" and "email" fields.

     ```json
     {
     "name": "John Doe",
     "email": "john.doe@example.com"
     }
     ```

     <img src="/assets/postmantwo.png" alt="Postman Testing Data" style="max-width: 100%;" height="auto">

14. Select **Send**. What do you see in the Response section? If you don't see the expected response, close your server and restart it by running `node index.js`.

     <img src="/assets/response.png" alt="Postman Response" style="max-width: 100%;" height="auto">


### Documenting API

15. In your project terminal, run the following command to install the required packages.

    ```js
    npm install swagger-jsdoc swagger-ui-express
    ```
16. Let's update our endpoint to add Swagger definition.

     ```js
     const express = require('express');
     const app = express();
     const port = 3000;
     const swaggerJSDoc = require('swagger-jsdoc');
     const swaggerUi = require('swagger-ui-express');

     // Swagger definition
     const swaggerOptions = {
     definition: {
     openapi: '3.0.0',
     info: {
          title: 'Your API',
          version: '1.0.0',
     },
     },
     apis: [__filename], // Point to the current file
     };

     const swaggerSpec = swaggerJSDoc(swaggerOptions);

     app.use('/api-docs', swaggerUi.serve, swaggerUi.setup(swaggerSpec));

     // Define the users array
     const users = [];

     // Middleware to parse JSON body
     app.use(express.json());

     // GET endpoint to retrieve users
     /**
     * @swagger
     * /users:
     *   get:
     *     summary: Get a list of users
     *     responses:
     *       200:
     *         description: Successful response
     *         content:
     *           application/json:
     *             example: [{"id": 1, "name": "John Doe"}, {"id": 2, "name": "Jane Smith"}]
     */
     app.get('/users', (req, res) => {
     // Logic to retrieve and send users
     res.json(users);
     });

     // POST endpoint to add a new user
     /**
     * @swagger
     * /users:
     *   post:
     *     summary: Add a new user
     *     requestBody:
     *       content:
     *         application/json:
     *           example: {"name": "John Doe", "email": "john.doe@example.com"}
     *     responses:
     *       201:
     *         description: User created successfully
     *         content:
     *           application/json:
     *             example: {"id": 3, "name": "John Doe", "email": "john.doe@example.com"}
     *       400:
     *         description: Bad Request
     *         content:
     *           text/plain:
     *             example: "Name and email are required"
     */
     app.post('/users', (req, res) => {
     const { name, email } = req.body;

     if (!name || !email) {
     return res.status(400).send('Name and email are required');
     }

     // Logic to add the user to the array
     const newUser = {
     id: users.length + 1,
     name,
     email,
     };

     users.push(newUser);

     res.status(201).json(newUser);
     });

     // Start the server
     app.listen(port, () => {
     console.log(`Server is running on http://localhost:${port}`);
     });

     ```

     <details>
     <summary><strong>Expand for code explanation</strong></summary>

     <strong>Import Express.js:</strong>
     The code starts by importing the Express.js framework using `const express = require('express');`.

     <br>

     <strong>Create Express App Instance:</strong>
     An instance of the Express application is created with `const app = express();`. This `app` variable will be used to configure the server and define routes.

     <br>

     <strong>Set Port Number:</strong>
     The code sets a port number for the server to listen on with `const port = 3000;`. The server will be accessible through http://localhost:3000/.

     <br>

     <strong>Import Swagger Packages:</strong>
     The code imports `swagger-jsdoc` and `swagger-ui-express` for generating and serving Swagger documentation.

     <br>

     <strong>Swagger Definition:</strong>
     The Swagger definition is set up with `swaggerOptions`. It includes the API title, version, and points to the current file as the source.

     <br>

     <strong>Generate Swagger Specification:</strong>
     The Swagger specification is generated using `swaggerJSDoc(swaggerOptions)` and stored in `swaggerSpec`.

     <br>

     <strong>Use Swagger UI Middleware:</strong>
     Swagger UI is served at the endpoint `/api-docs` to visualize and interact with the API documentation.

     <br>

     <strong>Define the Users Array:</strong>
     An array named `users` is defined to store user data.

     <strong>Middleware to Parse JSON Body:</strong>
     The line `app.use(express.json());` sets up middleware to parse incoming JSON data in the request body.

     <br>

     <strong>GET Endpoint to Retrieve Users:</strong>
     An endpoint at `/users` is defined for handling HTTP GET requests. It retrieves and sends the `users` array as JSON. It also includes Swagger documentation comments.

     <br>

     <strong>POST Endpoint to Add a New User:</strong>
     An endpoint at `/users` is defined for handling HTTP POST requests. It expects a JSON payload with `name` and `email`. If the data is valid, a new user is created and added to the `users` array. It also includes Swagger documentation comments.

     <br>

     <strong>Start the Server:</strong>
     The server is started with `app.listen(port, () => {...});`. A log message indicates that the server is running and on which URL.

     </details>

     <br>

17. When you run your server (`node index.js`), access the Swagger documentation at http://localhost:3000/api-docs. This page offers clear and interactive documentation of your API, including endpoints, parameters, request/response examples, and more.

     <img src="/assets/swagger.png" alt="Swagger output" style="max-width: 100%;" height="auto">


You did it! You've become a coder, a documentarian, and a magician â€“ all in one go. Your API is not just a set of endpoints; it's a masterpiece, a testament to your newfound skills.

As you journey through the tech realm, remember this: APIs aren't just about coding. They're about telling a story, creating an experience. So, go forth, write beautiful APIs, document them with Swagger, and sprinkle a bit of humor along the way.

In the words of our digital sages: "May your code be bug-free, your documentation crystal clear, and your laughter contagious." Until next time, happy coding, and may the tech gods be ever in your favor!

{% include note.html content="Checkout my in-development <b><i>[API documentation](https://beingtechnicalwriter.com/apidocumentation)</i></b> course which is growing every week! Dive in now and learn alongside me as I add new chapters and code-filled goodness." %}